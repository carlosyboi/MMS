local a={}a.__index=a;local b=7;local c=Color3.new(0,0,0)local d=game:GetService('Players').LocalPlayer;local e=d:GetMouse()local function f(g,h,i)if g>i then return i elseif g<h then return h else return g end end;local function j(k,l,m)local n=math.floor(k*6)local o=k*6-n;local p=m*(1-l)local q=m*(1-o*l)local r=m*(1-(1-o)*l)n=n%6;local s,t,i;if n==0 then s,t,i=m,r,p elseif n==1 then s,t,i=q,m,p elseif n==2 then s,t,i=p,m,r elseif n==3 then s,t,i=p,q,m elseif n==4 then s,t,i=r,p,m else s,t,i=m,p,q end;return{s*255,t*255,i*255}end;local function u()return Vector2.new(e.X,e.Y)end;local function v(h,i,r)return h+(i-h)*r end;local function w(r)for x,y in pairs(r)do y.Visible=false end end;local function z(r)for x,y in ipairs(r)do y:Remove()end end;function a.new(A,B,C)repeat wait(1/9999)until isrbxactive()local self=setmetatable({},a)self._inputs={['m1']={id=0x01,held=false,click=false},['m2']={id=0x02,held=false,click=false},['mb']={id=0x04,held=false,click=false},['unbound']={id=0x08,held=false,click=false},['tab']={id=0x09,held=false,click=false},['enter']={id=0x0D,held=false,click=false},['shift']={id=0x10,held=false,click=false},['ctrl']={id=0x11,held=false,click=false},['alt']={id=0x12,held=false,click=false},['pause']={id=0x13,held=false,click=false},['capslock']={id=0x14,held=false,click=false},['esc']={id=0x1B,held=false,click=false},['space']={id=0x20,held=false,click=false},['pageup']={id=0x21,held=false,click=false},['pagedown']={id=0x22,held=false,click=false},['end']={id=0x23,held=false,click=false},['home']={id=0x24,held=false,click=false},['left']={id=0x25,held=false,click=false},['up']={id=0x26,held=false,click=false},['right']={id=0x27,held=false,click=false},['down']={id=0x28,held=false,click=false},['insert']={id=0x2D,held=false,click=false},['delete']={id=0x2E,held=false,click=false},['0']={id=0x30,held=false,click=false},['1']={id=0x31,held=false,click=false},['2']={id=0x32,held=false,click=false},['3']={id=0x33,held=false,click=false},['4']={id=0x34,held=false,click=false},['5']={id=0x35,held=false,click=false},['6']={id=0x36,held=false,click=false},['7']={id=0x37,held=false,click=false},['8']={id=0x38,held=false,click=false},['9']={id=0x39,held=false,click=false},['a']={id=0x41,held=false,click=false},['b']={id=0x42,held=false,click=false},['c']={id=0x43,held=false,click=false},['d']={id=0x44,held=false,click=false},['e']={id=0x45,held=false,click=false},['f']={id=0x46,held=false,click=false},['g']={id=0x47,held=false,click=false},['h']={id=0x48,held=false,click=false},['i']={id=0x49,held=false,click=false},['j']={id=0x4A,held=false,click=false},['k']={id=0x4B,held=false,click=false},['l']={id=0x4C,held=false,click=false},['m']={id=0x4D,held=false,click=false},['n']={id=0x4E,held=false,click=false},['o']={id=0x4F,held=false,click=false},['p']={id=0x50,held=false,click=false},['q']={id=0x51,held=false,click=false},['r']={id=0x52,held=false,click=false},['s']={id=0x53,held=false,click=false},['t']={id=0x54,held=false,click=false},['u']={id=0x55,held=false,click=false},['v']={id=0x56,held=false,click=false},['w']={id=0x57,held=false,click=false},['x']={id=0x58,held=false,click=false},['y']={id=0x59,held=false,click=false},['z']={id=0x5A,held=false,click=false},['numpad0']={id=0x60,held=false,click=false},['numpad1']={id=0x61,held=false,click=false},['numpad2']={id=0x62,held=false,click=false},['numpad3']={id=0x63,held=false,click=false},['numpad4']={id=0x64,held=false,click=false},['numpad5']={id=0x65,held=false,click=false},['numpad6']={id=0x66,held=false,click=false},['numpad7']={id=0x67,held=false,click=false},['numpad8']={id=0x68,held=false,click=false},['numpad9']={id=0x69,held=false,click=false},['multiply']={id=0x6A,held=false,click=false},['add']={id=0x6B,held=false,click=false},['separator']={id=0x6C,held=false,click=false},['subtract']={id=0x6D,held=false,click=false},['decimal']={id=0x6E,held=false,click=false},['divide']={id=0x6F,held=false,click=false},['f1']={id=0x70,held=false,click=false},['f2']={id=0x71,held=false,click=false},['f3']={id=0x72,held=false,click=false},['f4']={id=0x73,held=false,click=false},['f5']={id=0x74,held=false,click=false},['f6']={id=0x75,held=false,click=false},['f7']={id=0x76,held=false,click=false},['f8']={id=0x77,held=false,click=false},['f9']={id=0x78,held=false,click=false},['f10']={id=0x79,held=false,click=false},['f11']={id=0x7A,held=false,click=false},['f12']={id=0x7B,held=false,click=false},['numlock']={id=0x90,held=false,click=false},['scrolllock']={id=0x91,held=false,click=false},['lshift']={id=0xA0,held=false,click=false},['rshift']={id=0xA1,held=false,click=false},['lctrl']={id=0xA2,held=false,click=false},['rctrl']={id=0xA3,held=false,click=false},['lalt']={id=0xA4,held=false,click=false},['ralt']={id=0xA5,held=false,click=false},['semicolon']={id=0xBA,held=false,click=false},['plus']={id=0xBB,held=false,click=false},['comma']={id=0xBC,held=false,click=false},['minus']={id=0xBD,held=false,click=false},['period']={id=0xBE,held=false,click=false},['slash']={id=0xBF,held=false,click=false},['tilde']={id=0xC0,held=false,click=false},['lbracket']={id=0xDB,held=false,click=false},['backslash']={id=0xDC,held=false,click=false},['rbracket']={id=0xDD,held=false,click=false},['quote']={id=0xDE,held=false,click=false}}self._active_tab=nil;self._open=true;self._watermark=true;self._base_opacity=0;self._dragging=false;self._drag_offset=Vector2.new(0,0)self._active_dropdown=nil;self._active_colorpicker=nil;self._clipboard_color=nil;self._tick=os.clock()self.identity=A;self._watermark_activity=C;self.x=20;self.y=60;self.w=B and B.x or 300;self.h=B and B.y or 400;self._color_accent=Color3.fromRGB(255,127,0)self._color_text=Color3.fromRGB(255,255,255)self._color_crust=Color3.fromRGB(0,0,0)self._color_border=Color3.fromRGB(25,25,25)self._color_surface=Color3.fromRGB(38,38,38)self._color_overlay=Color3.fromRGB(76,76,76)self._title_h=25;self._tab_h=20;self._padding=6;self._gradient_detail=80;local D=Drawing.new('Square')D.Filled=true;D.Color=self._color_surface;local E=Drawing.new('Square')E.Filled=false;E.Thickness=1;E.Color=self._color_crust;local F=Drawing.new('Square')F.Filled=false;F.Thickness=1;F.Color=self._color_border;local G=Drawing.new('Square')G.Filled=true;G.Color=self._color_border;local H=Drawing.new('Text')H.Text=self.identity;H.Outline=true;H.Color=self._color_text;local I=Drawing.new('Square')I.Filled=true;I.Color=self._color_surface;local J=Drawing.new('Square')J.Filled=true;J.Color=self._color_accent;local K=Drawing.new('Square')K.Filled=false;K.Thickness=1;K.Color=self._color_crust;local L=Drawing.new('Square')L.Filled=false;L.Thickness=1;L.Color=self._color_border;local M=Drawing.new('Text')M.Text=A;M.Outline=true;M.Color=self._color_text;self._tree={['_tabs']={},['_drawings']={E,F,D,G,H,I,J,K,L,M}}return self end;function a._GetTextBounds(N)return#N*b,b end;function a._IsMouseWithinBounds(O,B)local P=u()return P.x>=O.x and P.x<=O.x+B.x and P.y>=O.y and P.y<=O.y+B.y end;function a:_RemoveDropdown()if self._active_dropdown then z(self._active_dropdown['_drawings'])self._active_dropdown=nil end end;function a:_RemoveColorpicker()if self._active_colorpicker then z(self._active_colorpicker['_drawings'])self._active_colorpicker=nil end end;function a:_SpawnDropdown(Q,R,S,T,U,V)if self._active_dropdown then self:_RemoveDropdown()end;local D=Drawing.new('Square')D.Filled=true;D.Color=self._color_surface;local E=Drawing.new('Square')E.Filled=false;E.Thickness=1;E.Color=self._color_crust;local F=Drawing.new('Square')F.Filled=false;F.Thickness=1;F.Color=self._color_border;local W={D,E,F}for x,m in ipairs(R)do local X=Drawing.new('Text')X.Outline=true;X.Color=self._color_text;X.Text=m;table.insert(W,X)end;local Y={}for x,Z in ipairs(R)do Y[Z]=false end;for x,y in ipairs(Q)do Y[y]=true end;self._active_dropdown={['choices']=Y,['multi']=S,['callback']=T,['position']=U,['w']=V,['_drawings']=W}end;function a:_SpawnColorpicker(Q,_,T)if self._active_colorpicker then self:_RemoveColorpicker()end;local D=Drawing.new('Square')D.Filled=true;D.Color=self._color_surface;local E=Drawing.new('Square')E.Filled=false;E.Thickness=1;E.Color=self._color_crust;local F=Drawing.new('Square')F.Filled=false;F.Thickness=1;F.Color=self._color_border;local a0=Drawing.new('Square')a0.Filled=true;a0.Color=self._color_border;local a1=Drawing.new('Text')a1.Outline=true;a1.Color=self._color_text;a1.Text=_;local a2=Drawing.new('Square')a2.Filled=true;a2.Color=self._color_surface;local W={D,E,F,a0,a1,a2}for x=1,self._gradient_detail*3 do local l=Drawing.new('Square')l.Filled=true;table.insert(W,l)end;local a3=Drawing.new('Circle')a3.Filled=false;a3.Thickness=3;a3.Radius=6;a3.NumSides=20;a3.Color=self._color_crust;local a4=Drawing.new('Circle')a4.Filled=false;a4.Thickness=1;a4.Radius=6;a4.NumSides=20;a4.Color=self._color_border;local a5=Drawing.new('Square')a5.Filled=true;a5.Color=self._color_border;local a6=Drawing.new('Square')a6.Filled=false;a6.Thickness=1;a6.Color=self._color_surface;local a7=Drawing.new('Square')a7.Filled=false;a7.Thickness=1;a7.Color=self._color_crust;for x,Z in ipairs{a4,a3,a5,a7,a6}do table.insert(W,Z)end;self._active_colorpicker={['callback']=T,['_pallete_pos']=nil,['_slider_y']=0,['_drawings']=W}end;function a:ToggleWatermark(a8)self._watermark=a8 end;function a:ToggleMenu(a8)self._open=a8 end;function a:IsMenuOpen()return self._open end;function a:Tab(A)local a9=Drawing.new('Square')a9.Color=self._color_border;a9.Filled=true;local aa=Drawing.new('Square')aa.Color=c;aa.Filled=true;local ab=Drawing.new('Square')ab.Color=self._color_accent;ab.Filled=true;local ac=Drawing.new('Text')ac.Color=self._color_text;ac.Outline=true;ac.Text=A;table.insert(self._tree['_tabs'],{['name']=A,['_sections']={},['_drawings']={a9,aa,ab,ac}})if self._active_tab==nil then self._active_tab=A end;return A end;function a:Section(ad,A)for x,ae in ipairs(self._tree['_tabs'])do if ae['name']==ad then local D=Drawing.new('Square')D.Filled=true;D.Color=self._color_surface;local E=Drawing.new('Square')E.Filled=false;E.Thickness=1;E.Color=self._color_crust;local F=Drawing.new('Square')F.Filled=false;F.Thickness=1;F.Color=self._color_overlay;local H=Drawing.new('Text')H.Text=A;H.Outline=true;H.Color=self._color_text;table.insert(ae._sections,{['name']=A,['_items']={},['_drawings']={D,E,F,H}})return A end end end;function a:_AddToSection(ad,af,ag,ah,T,W,ai)for x,ae in pairs(self._tree._tabs)do if ae.name==ad then for x,aj in pairs(ae._sections)do if aj.name==af then local ak={['type']=ag,['value']=ah,['callback']=T,['_drawings']=W}if ai then for al,m in pairs(ai)do ak[al]=m end end;table.insert(aj._items,ak)return end end end end end;function a:Checkbox(ad,af,a1,am,T)local an=Drawing.new('Square')an.Color=self._color_crust;an.Thickness=1;an.Filled=false;local ao=Drawing.new('Square')ao.Color=self._color_accent;ao.Filled=true;local ap=Drawing.new('Square')ap.Color=c;ap.Filled=true;local ac=Drawing.new('Text')ac.Color=self._color_text;ac.Outline=true;ac.Text=a1;self:_AddToSection(ad,af,'checkbox',am,T,{an,ao,ap,ac})end;function a:Slider(ad,af,a1,am,T,aq,ar,as,at)local an=Drawing.new('Square')an.Color=self._color_crust;an.Filled=true;local au=Drawing.new('Square')au.Color=self._color_accent;au.Filled=true;local av=Drawing.new('Square')av.Color=c;av.Filled=true;local ah=Drawing.new('Text')ah.Color=self._color_text;ah.Outline=true;ah.Text=a1;local ac=Drawing.new('Text')ac.Color=self._color_text;ac.Outline=true;ac.Text=a1;self:_AddToSection(ad,af,'slider',am,T,{an,au,av,ah,ac},{['min']=aq,['max']=ar,['step']=as,['appendix']=at})end;function a:Choice(ad,af,a1,am,T,R,S)local an=Drawing.new('Square')an.Color=self._color_crust;an.Thickness=1;an.Filled=false;local au=Drawing.new('Square')au.Color=self._color_crust;au.Filled=true;local aw=Drawing.new('Text')aw.Color=self._color_text;aw.Outline=true;aw.Text=a1;local ax=Drawing.new('Text')ax.Color=self._color_text;ax.Outline=true;ax.Text=a1;local ac=Drawing.new('Text')ac.Color=self._color_text;ac.Outline=true;ac.Text=a1;self:_AddToSection(ad,af,'choice',am,T,{an,au,aw,ax,ac},{['choices']=R,['multi']=S})end;function a:Colorpicker(ad,af,a1,am,T)local an=Drawing.new('Square')an.Color=self._color_crust;an.Thickness=1;an.Filled=false;local au=Drawing.new('Square')au.Color=self._color_crust;au.Filled=true;local aa=Drawing.new('Square')aa.Color=c;aa.Filled=true;local ac=Drawing.new('Text')ac.Color=self._color_text;ac.Outline=true;ac.Text=a1;self:_AddToSection(ad,af,'colorpicker',am,T,{an,au,aa,ac},{['label']=a1})end;function a:Button(ad,af,a1,T)local an=Drawing.new('Square')an.Color=self._color_crust;an.Thickness=1;an.Filled=false;local au=Drawing.new('Square')au.Color=self._color_crust;au.Filled=true;local ac=Drawing.new('Text')ac.Color=self._color_text;ac.Outline=true;ac.Text=a1;self:_AddToSection(ad,af,'button',nil,T,{an,au,ac},{['label']=a1})end;function a:Keybind(ad,af,a1,am,T,ay)local ac=Drawing.new('Text')ac.Color=self._color_text;ac.Outline=true;ac.Text=a1;local an=Drawing.new('Square')an.Color=self._color_crust;an.Thickness=1;an.Filled=false;local au=Drawing.new('Square')au.Color=self._color_crust;au.Filled=true;local az=Drawing.new('Text')az.Color=self._color_text;az.Outline=true;self:_AddToSection(ad,af,'key',am,T,{ac,an,au,az},{['mode']=ay or'Hold',['_listening']=false,['_state']=nil})end;function a:CreateSettingsTab(aA)local aB=self:Tab(aA or'Menu')local aC=self:Section(aB,'Settings')self:Keybind(aB,aC,'Open key','f1',function(a8)self:ToggleMenu(a8)end,'Toggle')self:Checkbox(aB,aC,'Watermark',true,function(a8)self:ToggleWatermark(a8)end)self:Checkbox(aB,aC,'Debug',false,nil)local aD=self:Section(aB,'Theming')local aE={'X11','Nord','Dracula','Catppuccin'}self:Choice(aB,aD,'Preset theme',{aE[1]},function(aw)local aF=self._tree._tabs[#self._tree._tabs]._sections[2]local aG=aF._items[2]local aH=aF._items[3]local aI=aF._items[4]local aJ=aF._items[5]local aK=aF._items[6]local aL=aw[1]if aL==aE[1]then aG.value={255,128,0}aH.value={38,38,38}aI.value={26,26,26}aJ.value={77,77,77}aK.value={0,0,0}elseif aL==aE[2]then aG.value={135,206,235}aH.value={49,54,60}aI.value={72,80,90}aJ.value={61,66,73}aK.value={88,96,106}elseif aL==aE[3]then aG.value={243,67,54}aH.value={40,44,59}aI.value={64,71,89}aJ.value={29,31,45}aK.value={72,73,95}elseif aL==aE[4]then aG.value={240,160,200}aH.value={48,47,63}aI.value={72,71,89}aJ.value={63,62,80}aK.value={33,32,44}end;aG.callback(Color3.fromRGB(unpack(aG.value)))aH.callback(Color3.fromRGB(unpack(aH.value)))aI.callback(Color3.fromRGB(unpack(aI.value)))aJ.callback(Color3.fromRGB(unpack(aJ.value)))aK.callback(Color3.fromRGB(unpack(aK.value)))end,aE,false)self:Colorpicker(aB,aD,'Accent',{255,128,0},function(Z)self._color_accent=Z end)self:Colorpicker(aB,aD,'Base',{38,38,38},function(Z)self._color_surface=Z end)self:Colorpicker(aB,aD,'Inner stroke',{25,25,25},function(Z)self._color_border=Z end)self:Colorpicker(aB,aD,'Outer stroke',{76,76,76},function(Z)self._color_overlay=Z end)self:Colorpicker(aB,aD,'Crust',{0,0,0},function(Z)self._color_crust=Z end)return aB,aC,aD end;function a:Step()local aM=math.max(os.clock()-self._tick,0.0035)local aN=u()for aO,aP in pairs(self._inputs)do local aQ=aP['id']local aR=iskeypressed(aQ)if isrbxactive()and aR then if aP['held']==false and aP['click']==false then self._inputs[aO]['click']=true else self._inputs[aO]['click']=false end;self._inputs[aO]['held']=true else self._inputs[aO]['held']=false end end;local aS=self._open;local aT=aS and self._inputs['m1'].click;local aU=aS and self._inputs['m2'].click;local aV=aS and self._inputs['m1'].held;local aW=self._base_opacity;local aX=aW>0.22;self._base_opacity=f(v(aW,aS==true and 1 or 0,aM*11),0,1)setrobloxinput(not aS)local I=self._tree['_drawings'][6]local J=self._tree['_drawings'][7]local K=self._tree['_drawings'][8]local L=self._tree['_drawings'][9]local aY=self._tree['_drawings'][10]if self._watermark then local aZ={self.identity}local C=self._watermark_activity;if C then for x,a_ in ipairs(C)do if type(a_)=='function'then local l=a_()if l~=nil and#l>0 then table.insert(aZ,l)end end end end;local M=table.concat(aZ,' | ')local b0,b1=self._GetTextBounds(M)local b2=Vector2.new(20,20)local b3=Vector2.new(b0+self._padding*3,b1+self._padding*3)I.Position=b2;I.Size=b3;I.Visible=true;I.Color=self._color_surface;K.Position=b2;K.Size=b3;K.Visible=true;K.Color=self._color_crust;L.Position=b2+Vector2.new(1,1)L.Size=b3+Vector2.new(-2,-2)L.Visible=true;L.Color=self._color_border;J.Position=b2+Vector2.new(2,2)J.Size=Vector2.new(b3.x-4,1)J.Visible=true;J.Color=self._color_accent;aY.Position=b2+Vector2.new(2+self._padding,2+self._padding)aY.Text=M;aY.Visible=true;aY.Color=self._color_text else I.Visible=false;K.Visible=false;L.Visible=false;J.Visible=false;aY.Visible=false end;if self._active_colorpicker then local b4=self._active_colorpicker['_drawings']local b5=b4[1]local b6=b4[2]local b7=b4[3]local b8=b4[4]local b9=b4[5]local ba=b4[6]ba.Visible=false;local bb=Vector2.new(self.x+self.w+self._padding*2,self.y)local bc=Vector2.new(200,170+self._title_h)b5.Position=bb;b5.Size=bc;b5.Transparency=aW;b5.Visible=aX;b5.Color=self._color_surface;b6.Position=bb;b6.Size=bc;b6.Transparency=aW;b6.Visible=aX;b6.Color=self._color_crust;b7.Position=bb+Vector2.new(1,1)b7.Size=bc-Vector2.new(2,2)b7.Transparency=aW;b7.Visible=aX;b7.Color=self._color_border;b8.Position=bb+Vector2.new(1,1)b8.Size=Vector2.new(bc.x-2,self._title_h-3)b8.Transparency=aW;b8.Visible=aX;b8.Color=self._color_border;b9.Position=bb+Vector2.new(self._padding,self._padding)b9.Transparency=aW;b9.Visible=aX;b9.Color=self._color_text;local bd=bb+Vector2.new(self._padding,self._title_h+self._padding)local be=bc.y-self._title_h-self._padding*2;for n=1,self._gradient_detail do local bf=b4[6+n]local as=1-(n-1)/(self._gradient_detail-1)bf.Size=Vector2.new(be*as,be)bf.Position=bd;local k=f(self._active_colorpicker['_slider_y']/be,0,1)bf.Color=Color3.fromHSV(k,as,1)bf.Transparency=aW;bf.Visible=aX end;for n=1,self._gradient_detail do local bf=b4[6+self._gradient_detail+n]local as=1-n/self._gradient_detail;bf.Size=Vector2.new(be,be*as)bf.Position=bd+Vector2.new(0,be*(1-as))bf.Color=c;bf.Transparency=aW*1/(self._gradient_detail/3)bf.Visible=aX end;local bg=bc.x-be-self._padding*4;local bh=bd+Vector2.new(bc.x-bg-self._padding*2.5,0)for n=1,self._gradient_detail do local bf=b4[6+self._gradient_detail*2+n]local as=1-(n-1)/self._gradient_detail;bf.Size=Vector2.new(bg,be*as)bf.Position=bh;bf.Color=Color3.fromHSV(as,1,1)bf.Transparency=aW;bf.Visible=aX end;local bi=6+self._gradient_detail*3;local bj=b4[bi+1]local bk=b4[bi+2]local bl=b4[bi+3]local bm=b4[bi+4]local bn=b4[bi+5]if aV then if self._IsMouseWithinBounds(bd,Vector2.new(be,be))then self._active_colorpicker['_pallete_pos']=aN elseif self._IsMouseWithinBounds(bh,Vector2.new(bg,be))then self._active_colorpicker['_slider_y']=aN.y-bd.y end end;local bo=self._active_colorpicker['_pallete_pos']or bd;local bp=bh+Vector2.new(-2,self._active_colorpicker['_slider_y'])local bq=Vector2.new(f((bo.x-bd.x)/be,0,1),f((bo.y-bd.y)/be,0,1))local br=f(self._active_colorpicker['_slider_y']/be,0,1)local k=br;local l=bq.x;local m=1-bq.y;local bs=j(k,l,m)if aV then if self._active_colorpicker['callback']then self._active_colorpicker['callback'](bs)end end;bj.Position=bo;bj.Color=self._color_text;bj.Visible=aX;bk.Position=bo;bk.Color=self._color_crust;bk.Visible=aX;local bt=Vector2.new(bg+4,4)bl.Size=bt;bl.Position=bp;bl.Color=self._color_surface;bl.Visible=aX;bm.Size=bt;bm.Position=bp;bm.Color=self._color_crust;bm.Visible=aX;bn.Size=bt+Vector2.new(-2,-2)bn.Position=bp+Vector2.new(1,1)bn.Color=self._color_border;bn.Visible=aX;if aT and not self._IsMouseWithinBounds(bb,bc)then self:_RemoveColorpicker()end;aT=false end;if self._active_dropdown then local bu=self._active_dropdown['choices']local bv=self._active_dropdown['multi']local bw=self._active_dropdown['callback']local bx=self._active_dropdown['position']local by=self._active_dropdown['w']local bz=self._active_dropdown['_drawings']local bA=bz[1]local bB=bz[2]local bC=bz[3]local bD=self._padding;local bE=aT;local n=1;for bF,bG in pairs(bu)do local bH,bI=self._GetTextBounds(bF)local bJ=bz[3+n]local bK=bx+Vector2.new(self._padding,bD)local bL=Vector2.new(by,bI+self._padding)bJ.Position=bK;bJ.Color=bG and self._color_accent or self._color_text;bJ.Text=bF;bJ.Visible=aX;if aT and self._IsMouseWithinBounds(bK,bL)then bE=not bv;if not bv then for bM,x in pairs(bu)do bu[bM]=false end end;bu[bF]=not bG;if bw then local bN={}for bM,bO in pairs(bu)do if bO==true then table.insert(bN,bM)end end;bw(bN)end end;bD=bD+bI*2+self._padding;n=n+1 end;if bE then self:_RemoveDropdown()else bA.Position=bx;bA.Size=Vector2.new(by,bD)bA.Transparency=aW;bA.Visible=aX;bA.Color=self._color_surface;bB.Position=bx;bB.Size=Vector2.new(by,bD)bB.Transparency=aW;bB.Visible=aX;bB.Color=self._color_crust;bC.Position=bx+Vector2.new(1,1)bC.Size=Vector2.new(by-2,bD-2)bC.Transparency=aW;bC.Visible=aX;bC.Color=self._color_border end;aT=false end;local bP=self._tree['_drawings'][1]local bQ=self._tree['_drawings'][2]local bR=self._tree['_drawings'][3]local bS=self._tree['_drawings'][4]local bT=self._tree['_drawings'][5]bR.Position=Vector2.new(self.x,self.y)bR.Size=Vector2.new(self.w,self.h)bR.Transparency=aW;bR.Visible=aX;bR.Color=self._color_surface;bQ.Position=Vector2.new(self.x+1,self.y+1)bQ.Size=Vector2.new(self.w-2,self.h-2)bQ.Transparency=aW;bQ.Visible=aX;bQ.Color=self._color_border;bP.Position=Vector2.new(self.x,self.y)bP.Size=Vector2.new(self.w,self.h)bP.Transparency=aW;bP.Visible=aX;bP.Color=self._color_crust;bS.Position=Vector2.new(self.x+2,self.y+2)bS.Size=Vector2.new(self.w-4,self._title_h-4)bS.Transparency=aW;bS.Visible=aX;bS.Color=self._color_border;local bU,bV=self._GetTextBounds('')bT.Position=Vector2.new(self.x+7,self.y+self._title_h/2-bV+2)bT.Transparency=aW;bT.Visible=aX;bT.Color=self._color_text;local bW=Vector2.new(self.x,self.y)local bX=Vector2.new(self.w,self._title_h)if self._IsMouseWithinBounds(bW,bX)then if aT then self._dragging=true;self._drag_offset=aN-bW end end;if self._dragging then if aV then self.x=aN.x-self._drag_offset.x;self.y=aN.y-self._drag_offset.y else self._dragging=false end;aT=false end;local bY=#self._tree['_tabs']for bZ,ae in ipairs(self._tree['_tabs'])do local ad=ae['name']local b_=ae['_drawings']local c0=self._active_tab==ad;local c1=b_[1]local c2=b_[2]local c3=b_[3]local c4=b_[4]local c5=(self.w-self._padding*2-(bY-1)*2)/bY;local c6=self._tab_h;local c7=Vector2.new(self.x+self._padding+(bZ-1)*(c5+2),self.y+self._title_h+self._padding)local c8=Vector2.new(c5,c6)c1.Position=c7;c1.Size=c8;c1.Transparency=aW;c1.Visible=aX;c1.Color=self._color_border;c2.Position=c7+Vector2.new(0,c6-8)c2.Size=Vector2.new(c5,8)c2.Transparency=0.05*aW;c2.Visible=aX;c3.Position=c7;c3.Size=Vector2.new(c5,1)c3.Transparency=aW;c3.Visible=c0 and aX;c3.Color=self._color_accent;c4.Position=c7+Vector2.new(4,c6/2-b/2)c4.Transparency=aW;c4.Visible=aX;c4.Color=self._color_text;if aT and self._IsMouseWithinBounds(c7,c8)then self._active_tab=ad end;local c9=self._padding;local ca=self._padding;for cb,aj in ipairs(ae['_sections'])do local cc=aj['_drawings']local cd=aj['_items']for x,ce in ipairs(cd)do local ag=ce['type']local cf=ce['value']local cg=ce['callback']if ag=='key'then if cf and cf~='unbound'and cg then local ch=ce['mode']local ci=ce['state']if ch=='Hold'then ci=self._inputs[cf]['held']elseif ch=='Toggle'and self._inputs[cf]['click']then ci=not ci elseif ch=='Always'then ci=true end;if ci~=ce['state']then cg(ci)ce['state']=ci end end end end;if c0 then local cj=self._padding*2;local ck=(cb+1)%2;local cl=self.w/2-self._padding*1.5;local cm=Vector2.new(self.x+self._padding+self._padding*ck+cl*ck,self.y+self._title_h+self._tab_h+self._padding*2+(ck==1 and c9 or ca))for x,cn in ipairs(cd)do local ag=cn['type']local co=cn['_drawings']local cf=cn['value']local cg=cn['callback']local cp=cm+Vector2.new(10,cj)if ag=='checkbox'then local cq=co[1]local cr=co[2]local cs=co[3]local ct=co[4]local cu=Vector2.new(14,14)cq.Position=cp;cq.Size=cu;cq.Transparency=aW;cq.Visible=aX;cr.Position=cp+Vector2.new(1,1)cr.Size=cu-Vector2.new(2,2)cr.Transparency=aW;cr.Visible=cf==true and aX;cr.Color=self._color_accent;cs.Position=cp+Vector2.new(1,cu.y-2)cs.Size=Vector2.new(cu.x-2,1)cs.Transparency=0.3*aW;cs.Visible=cf==true and aX;cs.Color=self._color_border;ct.Position=cp+Vector2.new(cu.x+8,0)ct.Transparency=aW;ct.Visible=aX;ct.Color=self._color_text;if self._IsMouseWithinBounds(cp,cu)then cq.Color=self._color_accent;if aT then cn['value']=not cn['value']if cg then cg(cn['value'])end end else cq.Color=self._color_crust end;cj=cj+cu.y+8 elseif ag=='slider'then local cv=co[1]local cw=co[2]local cx=co[3]local cy=co[4]local cz=co[5]local aq=cn['min']local ar=cn['max']local as=cn['step']local at=cn['appendix']local cA=cl-self._padding*3;local cB=20;local cC=Vector2.new(cA,cB)local cD,cE=self._GetTextBounds('')cz.Position=cp;cz.Transparency=aW;cz.Visible=aX;cz.Color=self._color_text;cv.Position=cp+Vector2.new(0,cE+10)cv.Size=cC;cv.Transparency=aW;cv.Visible=aX;cv.Color=self._color_crust;local cF=cf~=aq and aX;local cG=(cf-(cn.min or 0))/((cn.max or 1)-(cn.min or 0))cG=f(cG,0,1)cw.Position=cp+Vector2.new(1,cE+11)cw.Size=Vector2.new(math.max(cA*cG-2,0),cB-2)cw.Transparency=aW;cw.Visible=cF;cw.Color=self._color_accent;cx.Position=cp+Vector2.new(1,cE+cB+7)cx.Size=Vector2.new(math.max(cA*cG-2,0),2)cx.Transparency=0.15*aW;cx.Visible=cF;local cH=tostring(cf)..(at or'')local cI,cJ=self._GetTextBounds(cH)cy.Position=cp+Vector2.new(cA-cI-6,cJ/2+cB-2)cy.Text=cH;cy.Transparency=aW;cy.Visible=aX;if self._IsMouseWithinBounds(cp+Vector2.new(0,cE+10),cC)then cy.Color=self._color_accent;if aV then local cK=aN.x-cp.x;local cL=f(cK/cA,0,1)local cM=aq+(ar-aq)*cL;cM=math.floor(cM/as+0.5)*as;cM=math.max(aq,math.min(ar,cM))if cM~=cn['value']then cn['value']=cM;if cg then cg(cM)end end end else cy.Color=self._color_text end;cj=cj+cB+18+cE elseif ag=='choice'then local cN=co[1]local cO=co[2]local cP=co[3]local cQ=co[4]local cR=co[5]local R=cn['choices']local S=cn['multi']local cD,cE=self._GetTextBounds('')local cS=cl-self._padding*3;local bI=20;local cT=Vector2.new(cS,bI)local cU=cp+Vector2.new(0,cE+10)cR.Position=cp;cR.Transparency=aW;cR.Visible=aX;cR.Color=self._color_text;local cV=table.concat(cf,', ')local cW,cX=self._GetTextBounds(cV)cP.Position=cp+Vector2.new(4,cE/2+bI-2)cP.Text=cW>cS-32 and'...'or cV;cP.Transparency=aW;cP.Visible=aX;cP.Color=self._color_text;cN.Position=cU;cN.Size=cT;cN.Transparency=aW;cN.Visible=aX;cO.Position=cU+Vector2.new(2,2)cO.Size=cT-Vector2.new(4,4)cO.Transparency=aW;cO.Visible=aX;cO.Color=self._color_crust;local cY='<'local cZ,c_=self._GetTextBounds(cY)cQ.Position=cp+Vector2.new(cS-cZ-4,c_/2+bI-2)cQ.Text=cY;cQ.Transparency=aW;cQ.Visible=aX;cQ.Color=self._color_text;if self._IsMouseWithinBounds(cU,cT)then cN.Color=self._color_accent;if aT then local bw=function(d0)cn['value']=d0;if cg then cg(cn['value'])end end;self:_SpawnDropdown(cf,R,S,bw,cU+Vector2.new(0,bI),cS)elseif aU then local bw=function(d1)cn['value']={}cg(cn['value'])end;self:_SpawnDropdown({},{'Clear'},false,bw,aN,60)end else cN.Color=self._color_crust end;cj=cj+bI+18+cE elseif ag=='button'then local d2=co[1]local d3=co[2]local d4=co[3]local d5=cn['label']local d6,d7=self._GetTextBounds(d5)local d8=Vector2.new(d6+self._padding*2,20)d4.Position=cp+Vector2.new(self._padding,4)d4.Transparency=aW;d4.Visible=aX;d4.Color=self._color_text;d2.Position=cp;d2.Size=d8;d2.Transparency=aW;d2.Visible=aX;d3.Position=cp+Vector2.new(2,2)d3.Size=d8-Vector2.new(4,4)d3.Transparency=aW;d3.Visible=aX;d3.Color=self._color_crust;if self._IsMouseWithinBounds(cp,d8)then if aT and cg then cg(cn['value'])end;d2.Color=self._color_accent else d2.Color=self._color_crust end;cj=cj+22+d7 elseif ag=='colorpicker'then local d9=co[1]local da=co[2]local db=co[3]local b9=co[4]local cu=Vector2.new(30,14)local dc=cp+Vector2.new(cl-cu.x-self._padding*3,0)d9.Position=dc;d9.Size=cu;d9.Transparency=aW;d9.Visible=aX;d9.Color=self._color_crust;da.Position=dc+Vector2.new(1,1)da.Size=cu-Vector2.new(2,2)da.Transparency=aW;da.Color=Color3.fromRGB(unpack(cn['value']))da.Visible=aX;db.Position=dc+Vector2.new(4,4)db.Size=cu-Vector2.new(8,8)db.Transparency=aW*0.25;db.Visible=aX;b9.Position=cp;b9.Transparency=aW;b9.Visible=aX;b9.Color=self._color_text;if self._IsMouseWithinBounds(dc,cu)then if aT then local dd=function(bs)cn['value']=bs;if cg then cg(Color3.fromRGB(unpack(cn['value'])))end end;self:_SpawnColorpicker(cn['value'],cn['label'],dd)elseif aU then self:_SpawnDropdown({},{'Copy','Paste'},false,function(aw)local de=aw[1]if de=='Copy'then self._clipboard_color=cf elseif de=='Paste'then cn['value']=self._clipboard_color or cf;if cg then cg(Color3.fromRGB(unpack(cn['value'])))end end end,aN,60)end end;cj=cj+cu.y+10 elseif ag=='key'then local df=co[1]local dg=co[2]local dh=co[3]local di=co[4]local d5=cn['_listening']==true and'...'or cf:upper()local d6,d7=self._GetTextBounds(d5)local d8=Vector2.new(d6+self._padding*2,20)local dj=cp+Vector2.new(cl-d8.x-self._padding*3,0)di.Position=dj+Vector2.new(self._padding,4)di.Transparency=aW;di.Text=d5;di.Visible=aX;di.Color=self._color_text;dg.Position=dj;dg.Size=d8;dg.Transparency=aW;dg.Visible=aX;dh.Position=dj+Vector2.new(2,2)dh.Size=d8-Vector2.new(4,4)dh.Transparency=aW;dh.Visible=aX;dh.Color=self._color_crust;df.Position=cp+Vector2.new(0,d7/2+1)df.Transparency=aW;df.Visible=aX;df.Color=self._color_text;if self._IsMouseWithinBounds(dj,d8)then if aT then cn['_listening']=true;self._inputs['m1']['click']=false end;dg.Color=self._color_accent else dg.Color=self._color_crust end;if cn['_listening']then for aO,aP in pairs(self._inputs)do if aP['click']then cn['value']=aO;cn['_listening']=false;break end end end;cj=cj+22+d7 end end;local dk=cc[1]local dl=cc[2]local dm=cc[3]local dn=cc[4]dl.Position=cm;dl.Size=Vector2.new(cl,cj)dl.Transparency=aW;dl.Visible=aX;dl.Color=self._color_crust;dm.Position=cm+Vector2.new(1,1)dm.Size=Vector2.new(cl-2,cj-2)dm.Transparency=aW;dm.Visible=aX;dm.Color=self._color_overlay;local dp,dq=self._GetTextBounds('')dn.Position=cm+Vector2.new(10,-dq/2)dn.Transparency=aW;dn.Visible=aX;dn.Color=self._color_text;dk.Visible=false;cj=cj+self._padding;if ck==1 then c9=c9+cj else ca=ca+cj end else w(cc)for x,cn in ipairs(cd)do w(cn['_drawings'])end end end end;self._tick=os.clock()end;function a:Destroy()for x,dr in pairs(self._tree['_drawings'])do dr:Remove()end;self:_RemoveDropdown()self:_RemoveColorpicker()for x,ae in pairs(self._tree['_tabs'])do if ae['_drawings']then for x,dr in pairs(ae['_drawings'])do dr:Remove()end end;if ae._sections then for x,aj in pairs(ae['_sections'])do for x,dr in pairs(aj['_drawings'])do dr:Remove()end;if aj._items then for x,ak in pairs(aj._items)do for x,dr in pairs(ak['_drawings'])do dr:Remove()end end end end end end;self._tree=nil;setrobloxinput(true)end;local ds={autoQTE={enabled=true,postPressDelay=0.30},ratioQTE={enabled=true,baseDelay=0.60,minDelay=0.40,healthFloor=0.60},perfectSwap={enabled=true,delay=0.400,ultDelay=0.200,scanTimeout=2.0},esp={enabled=true,dummy=true,items=true,colorDummy={255,100,100},colorItems={100,255,100}},domainVotes={enabled=true}}local dt=game:GetService("Players")local du=dt.LocalPlayer;local dv={W=0x57,A=0x41,S=0x53,D=0x44,F=0x46,R=0x52,G=0x47}local dw={["W"]=dv.W,["A"]=dv.A,["S"]=dv.S,["D"]=dv.D}local dx={"Cleaving Whirlwind","Severance Kick","Blunt Cut","Stabalize"}local dy={"Swift Kick","Brute Force","Pebble Throw","Elbow Drop"}local dz={"Idol's Debut","Climax Jumping","Dreams","Brothers"}local dA={detectedKey="",detectedTime=0,displayDuration=1.0}local dB={rWasPressed=false,isScanning=false,scanStartTime=0,trackedTarget=nil,trackedRatioValue=nil,qteDetectedTime=0,hasTriggered=false,targetHealthPercent=1.0,calculatedDelay=0.60,lastTriggerTime=0,triggerCooldown=0.3}local dC={rWasPressed=false,isScanning=false,scanStartTime=0,wasInSkillInInfo=false,hasSeenInSkillInInfo=false,inSkillAppearedTime=0,hasTriggeredM1=false,lastTriggerTime=0,triggerCooldown=0.5,lastDebugPrint=0}local dD={objects={},lastDiscovery=0}local dE={isActive=false,trackedDomain=nil,gWasPressed=false,waitingForChooseUI=false,waitStartTime=0,confessCount=0,silenceCount=0,denialCount=0,confessDrawing=nil,silenceDrawing=nil,denialDrawing=nil}local function dF()return os.clock()end;local function dG(dH,...)if not dH then return nil end;for x,A in ipairs({...})do dH=dH:FindFirstChild(A)if not dH then return nil end end;return dH end;local function dI()local dJ=game.Workspace:FindFirstChild("Characters")return dJ and dJ:FindFirstChild(du.Name)end;local function dK()local dL=dI()local dM=dL and dL:FindFirstChild("HumanoidRootPart")return dM and dM.Position end;local function dN(dO,dP)if not dO or not dP then return 0 end;local dQ,dR,dS=dP.X-dO.X,dP.Y-dO.Y,dP.Z-dO.Z;return math.sqrt(dQ*dQ+dR*dR+dS*dS)end;local function dT()local dL=dI()return dL and dL:GetAttribute("Moveset")end;local function dU(A)return dT()==A end;local function dV(dW)local dL=dI()if not dL then return false end;local dX=dL:FindFirstChild("Moveset")if not dX then return false end;for x,dY in ipairs(dW)do if dX:FindFirstChild(dY)then return true end end;return false end;local function dZ()return dG(du,"PlayerGui","QTE","QTE_PC")end;local function d_()if not ds.autoQTE.enabled or iskeypressed(dv.F)then return false end;local a1=dZ()if not a1 or not a1.Text or a1.Text==""then return false end;local e0=dw[a1.Text:upper()]if not e0 then return false end;dA.detectedKey=a1.Text:upper()dA.detectedTime=dF()keypress(e0)keyrelease(e0)return true end;local function e1()return dU("Salaryman")or dV(dx)end;local function e2()local dJ=game.Workspace:FindFirstChild("Characters")if not dJ then return nil,nil end;local e3=du.Name;for x,e4 in ipairs(dJ:GetChildren())do local e5=dG(e4,"Info","Ratio")if e5 then local e6=e5:FindFirstChild("Owner")if e6 and e6.Value then local e7=pcall(function()return e6.Value.Name end)and e6.Value.Name;if e7==e3 then return e4,e5 end end end end;return nil,nil end;local function e8(e9)if not e9 then return 1.0 end;local ea=e9:FindFirstChild("Humanoid")if ea and ea.MaxHealth>0 then return ea.Health/ea.MaxHealth end;return 1.0 end;local function eb(ec)local ed=ds.ratioQTE;local ee=math.max(ec,ed.healthFloor)local ef=math.max(0,math.min(1,(ee-ed.healthFloor)/(1.0-ed.healthFloor)))return ed.minDelay+(ed.baseDelay-ed.minDelay)*ef end;local function eg()if not ds.ratioQTE.enabled or not e1()then return end;local eh=dF()local ei=iskeypressed(dv.R)if ei and not dB.rWasPressed then dB.isScanning=true;dB.scanStartTime=eh;dB.trackedTarget=nil;dB.trackedRatioValue=nil;dB.hasTriggered=false end;dB.rWasPressed=ei;if not dB.isScanning and not dB.trackedRatioValue then return end;if dB.isScanning then if eh-dB.scanStartTime>2.0 then dB.isScanning=false;return end;local e9,ej=e2()if e9 and ej then dB.isScanning=false;dB.trackedTarget=e9;dB.trackedRatioValue=ej;dB.qteDetectedTime=eh;dB.hasTriggered=false;dB.targetHealthPercent=e8(e9)dB.calculatedDelay=eb(dB.targetHealthPercent)end;return end;if dB.trackedRatioValue then if not dB.trackedRatioValue.Parent or dB.trackedRatioValue:GetAttribute("Activated")==false then dB.trackedTarget=nil;dB.trackedRatioValue=nil;dB.hasTriggered=false;return end;if dB.hasTriggered or eh-dB.lastTriggerTime<dB.triggerCooldown then return end;if eh-dB.qteDetectedTime>=dB.calculatedDelay then keypress(dv.R)keyrelease(dv.R)dB.hasTriggered=true;dB.lastTriggerTime=eh end end end;local function ek()local dL=dI()if not dL then return false end;if dL:GetAttribute("InUlt")==true then return true end;return dV(dz)end;local function el()local em=dT()if em=="Switcher"or em=="Todo"then return true end;return dV(dy)or dV(dz)end;local function en()local eo=dG(dI(),"Info")return eo and eo:FindFirstChild("InSkill")~=nil end;local function ep()local dL=dI()return dL and dL:FindFirstChild("NoM1")~=nil end;local function eq()dC.isScanning=false;dC.hasSeenInSkillInInfo=false;dC.wasInSkillInInfo=false;dC.hasTriggeredM1=false;dC.inSkillAppearedTime=0 end;local function er()return ek()and ds.perfectSwap.ultDelay or ds.perfectSwap.delay end;local function es()return ek()and"ULT"or"STD"end;local function et()if not ds.perfectSwap.enabled or not el()then return end;local eh=dF()local ei=iskeypressed(dv.R)if ei and not dC.rWasPressed then dC.isScanning=true;dC.scanStartTime=eh;dC.hasSeenInSkillInInfo=false;dC.wasInSkillInInfo=false;dC.inSkillAppearedTime=0;dC.hasTriggeredM1=false end;dC.rWasPressed=ei;if not dC.isScanning then return end;local eu=eh-dC.scanStartTime;if eu>ds.perfectSwap.scanTimeout then eq()return end;local ev=en()if ev and not dC.hasSeenInSkillInInfo then dC.hasSeenInSkillInInfo=true;dC.inSkillAppearedTime=eh end;local ew=eh-dC.lastTriggerTime<dC.triggerCooldown;if dC.hasSeenInSkillInInfo and not dC.hasTriggeredM1 and not ew and dC.inSkillAppearedTime>0 then local ex=eh-dC.inSkillAppearedTime;local ey=er()if ex>=ey and not ep()then mouse1press()mouse1release()dC.hasTriggeredM1=true;dC.lastTriggerTime=eh elseif ep()then dC.hasTriggeredM1=true end end;if dC.wasInSkillInInfo and not ev then eq()return end;dC.wasInSkillInInfo=ev end;local function ez(A,eA)local dr=Drawing.new("Text")dr.Font=Drawing.Fonts.System;dr.Text=A;dr.Color=Color3.fromRGB(eA[1],eA[2],eA[3])dr.Outline=true;dr.Center=true;dr.Visible=false;return dr end;local function eB(eC)if eC and eC.drawing then eC.drawing:Remove()end end;local function eD()for x,eC in pairs(dD.objects)do eB(eC)end;dD.objects={}end;local function eE()if not ds.esp.enabled then for x,eC in pairs(dD.objects)do if eC.drawing then eC.drawing.Visible=false end end;return end;for x,eC in pairs(dD.objects)do if eC.drawing then local eF=eC.type=="dummy"and ds.esp.dummy or eC.type=="item"and ds.esp.items;if not eF then eC.drawing.Visible=false elseif eC.part and eC.part.Parent then local eG,eH=WorldToScreen(eC.part.Position)eC.drawing.Visible=eH;if eH then eC.drawing.Position=eG;local eA=eC.type=="dummy"and ds.esp.colorDummy or ds.esp.colorItems;eC.drawing.Color=Color3.fromRGB(eA[1],eA[2],eA[3])end else eC.drawing.Visible=false end end end end;local function eI()local eJ="dummy_character"if dD.objects[eJ]then local eC=dD.objects[eJ]if not eC.part or not eC.part.Parent then eB(eC)dD.objects[eJ]=nil else return end end;local eK=dG(game.Workspace,"Characters","Dummy")if not eK then return end;local dM=eK:FindFirstChild("HumanoidRootPart")if not dM then return end;dD.objects[eJ]={drawing=ez("Dummy",ds.esp.colorDummy),instance=eK,part=dM,type="dummy",name="Dummy"}end;local function eL()local eM=dG(game.Workspace,"Items")if not eM then return end;local eN={}for x,ak in ipairs(eM:GetChildren())do if ak:IsA("Part")or ak:IsA("MeshPart")then local eO=ak.Address;eN[eO]=true;if not dD.objects[eO]then dD.objects[eO]={drawing=ez(ak.Name,ds.esp.colorItems),instance=ak,part=ak,type="item",name=ak.Name}end end end;for eO,eC in pairs(dD.objects)do if eC.type=="item"and not eN[eO]then eB(eC)dD.objects[eO]=nil end end end;local function eP()pcall(eI)pcall(eL)end;local function eQ()return dU("Hiromi")end;local function eR()return dG(du,"PlayerGui","Choose")~=nil end;local function eS()local eT=game.Workspace:FindFirstChild("Domains")if not eT then return nil end;local eU=dK()if not eU then return nil end;local eV,eW=nil,math.huge;for x,eX in ipairs(eT:GetChildren())do local eY=eX.Name=="Domain"and eX:IsA("MeshPart")and eX or eX:FindFirstChild("Domain")if eY then local eZ=eY:FindFirstChild("DomainCollider")or eY;if eZ and eZ:IsA("BasePart")then local e_=dN(eU,eZ.Position)if e_<eW then eW=e_;eV=eY end end end end;return eV end;local function f0(eX)if not eX then return 0,0,0 end;return eX:GetAttribute("ConfessCount")or 0,eX:GetAttribute("SilenceCount")or 0,eX:GetAttribute("DenialCount")or 0 end;local function f1()local function f2()local y=Drawing.new("Text")y.Font=Drawing.Fonts.System;y.Text="0"y.Size=24;y.Color=Color3.fromRGB(255,0,0)y.Outline=true;y.Center=true;y.Visible=false;return y end;dE.confessDrawing=dE.confessDrawing or f2()dE.silenceDrawing=dE.silenceDrawing or f2()dE.denialDrawing=dE.denialDrawing or f2()end;local function f3()if dE.confessDrawing then dE.confessDrawing.Visible=false end;if dE.silenceDrawing then dE.silenceDrawing.Visible=false end;if dE.denialDrawing then dE.denialDrawing.Visible=false end end;local function f4()if dE.confessDrawing then dE.confessDrawing:Remove()dE.confessDrawing=nil end;if dE.silenceDrawing then dE.silenceDrawing:Remove()dE.silenceDrawing=nil end;if dE.denialDrawing then dE.denialDrawing:Remove()dE.denialDrawing=nil end end;local function f5(f6,f7,f8)if not dE.confessDrawing then return end;local f9=math.max(f6,f7,f8)local fa=(f6==f9 and 1 or 0)+(f7==f9 and 1 or 0)+(f8==f9 and 1 or 0)local fb=Color3.fromRGB(255,50,50)local fc=Color3.fromRGB(50,255,50)local fd=Color3.fromRGB(255,255,50)local function fe(ff)if f9==0 then return fb end;if ff~=f9 then return fb end;return fa>=2 and fd or fc end;dE.confessDrawing.Text=tostring(f6)dE.confessDrawing.Color=fe(f6)dE.silenceDrawing.Text=tostring(f7)dE.silenceDrawing.Color=fe(f7)dE.denialDrawing.Text=tostring(f8)dE.denialDrawing.Color=fe(f8)end;local function fg()local fh=dG(du,"PlayerGui","Choose")if not fh then return nil,nil,nil end;local function fi(A)local fj=fh:FindFirstChild(A)if fj then local fk,B=fj.AbsolutePosition,fj.AbsoluteSize;return Vector2.new(fk.X+B.X/2,fk.Y-30)end;return nil end;return fi("Confess"),fi("Silence"),fi("Denial")end;local function fl()if not dE.confessDrawing then return end;local fm,fn,fo=fg()dE.confessDrawing.Visible=fm~=nil;if fm then dE.confessDrawing.Position=fm end;dE.silenceDrawing.Visible=fn~=nil;if fn then dE.silenceDrawing.Position=fn end;dE.denialDrawing.Visible=fo~=nil;if fo then dE.denialDrawing.Position=fo end end;local function fp()dE.isActive=false;dE.trackedDomain=nil;dE.waitingForChooseUI=false;dE.waitStartTime=0;dE.confessCount=0;dE.silenceCount=0;dE.denialCount=0;f3()end;local function fq()if not ds.domainVotes.enabled then if dE.isActive then fp()end;return end;if not eQ()then if dE.isActive or dE.waitingForChooseUI then fp()end;return end;local eh=dF()local fr=iskeypressed(dv.G)if fr and not dE.gWasPressed and not dE.isActive and not dE.waitingForChooseUI then dE.waitingForChooseUI=true;dE.waitStartTime=eh end;dE.gWasPressed=fr;if dE.waitingForChooseUI then if eh-dE.waitStartTime>6.0 then dE.waitingForChooseUI=false;return end;if eR()then dE.waitingForChooseUI=false;local eX=eS()if eX then dE.isActive=true;dE.trackedDomain=eX;f1()fl()f5(0,0,0)end end;return end;if dE.isActive then if not eR()or not dE.trackedDomain or not dE.trackedDomain.Parent then fp()return end;local f6,f7,f8=f0(dE.trackedDomain)if f6~=dE.confessCount or f7~=dE.silenceCount or f8~=dE.denialCount then dE.confessCount=f6;dE.silenceCount=f7;dE.denialCount=f8;f5(f6,f7,f8)end;fl()end end;local function fs()local ft={}if ds.autoQTE.enabled then local r=dF()if iskeypressed(dv.F)then table.insert(ft,"QTE: PAUSED")elseif dA.detectedKey~=""and r-dA.detectedTime<dA.displayDuration then table.insert(ft,"QTE: "..dA.detectedKey)else table.insert(ft,"QTE: ON")end end;if ds.ratioQTE.enabled and e1()then if dB.isScanning then table.insert(ft,"Ratio: SCAN")elseif dB.trackedRatioValue then table.insert(ft,"Ratio: ACTIVE")else table.insert(ft,"Ratio: ON")end end;if ds.perfectSwap.enabled and el()then local ay=es()if dC.isScanning then table.insert(ft,dC.hasSeenInSkillInInfo and"Swap: "..ay.."!"or"Swap: "..ay)else table.insert(ft,"Swap: "..ay)end end;if ds.esp.enabled then local ff=0;for x in pairs(dD.objects)do ff=ff+1 end;table.insert(ft,"ESP: "..ff)end;if ds.domainVotes.enabled and eQ()then if dE.isActive then table.insert(ft,"Domain: ACTIVE")elseif dE.waitingForChooseUI then table.insert(ft,"Domain: WAIT")else table.insert(ft,"Domain: ON")end end;return#ft==0 and"Idle"or table.concat(ft," | ")end;local fu=a.new("JJS",Vector2.new(300,520),{fs})local fv=true;local fw=fu:Tab("Automation")local fx=fu:Section(fw,"Defense Attorney")fu:Checkbox(fw,fx,"Enable Auto QTE",ds.autoQTE.enabled,function(l)ds.autoQTE.enabled=l end)fu:Slider(fw,fx,"Post-Press Delay",ds.autoQTE.postPressDelay*1000,function(m)ds.autoQTE.postPressDelay=m/1000 end,100,500,10,"ms")local fy=fu:Section(fw,"Nanami")fu:Checkbox(fw,fy,"Enable Auto QTE",ds.ratioQTE.enabled,function(l)ds.ratioQTE.enabled=l;if not l then dB.trackedTarget=nil;dB.trackedRatioValue=nil;dB.isScanning=false;dB.hasTriggered=false end end)local fz=fu:Section(fw,"Todo")fu:Checkbox(fw,fz,"Perfect Swap",ds.perfectSwap.enabled,function(l)ds.perfectSwap.enabled=l;if not l then eq()end end)local fA=fu:Tab("ESP")local fB=fu:Section(fA,"ESP Settings")fu:Checkbox(fA,fB,"Enable ESP",ds.esp.enabled,function(l)ds.esp.enabled=l;if not l then for x,fC in pairs(dD.objects)do if fC.drawing then fC.drawing.Visible=false end end end end)fu:Checkbox(fA,fB,"Dummy ESP",ds.esp.dummy,function(l)ds.esp.dummy=l end)fu:Checkbox(fA,fB,"Items ESP",ds.esp.items,function(l)ds.esp.items=l end)local fD=fu:Section(fA,"ESP Colors")fu:Colorpicker(fA,fD,"Dummy Color",ds.esp.colorDummy,function(Z)ds.esp.colorDummy=Z end)fu:Colorpicker(fA,fD,"Items Color",ds.esp.colorItems,function(Z)ds.esp.colorItems=Z end)local fE=fu:Tab("Utility")local fF=fu:Section(fE,"Defense Attorney")fu:Checkbox(fE,fF,"Vote Tracker",ds.domainVotes.enabled,function(l)ds.domainVotes.enabled=l;if not l then fp()end end)local fG=fu:Section(fE,"Script")fu:Checkbox(fE,fG,"Unload Script",false,function(l)if l then fv=false;eD()f4()fu:Destroy()end end)fu:CreateSettingsTab("Settings")print("Script Loaded.")spawn(function()while fv do fu:Step()task.wait()end end)spawn(function()while fv do if ds.autoQTE.enabled and not iskeypressed(dv.F)then if d_()then task.wait(ds.autoQTE.postPressDelay)else task.wait(0.05)end else task.wait(0.1)end end end)spawn(function()while fv do pcall(eE)task.wait()end end)spawn(function()while fv do pcall(eP)task.wait(0.5)end end)spawn(function()while fv do pcall(eg)task.wait()end end)spawn(function()while fv do pcall(et)task.wait()end end)spawn(function()while fv do pcall(fq)task.wait()end end)while fv do task.wait(0.1)end
